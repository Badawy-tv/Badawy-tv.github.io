document.addEventListener("DOMContentLoaded",function(){function getTodayRow(){const today=new Date().getDate().toString();const rows=document.querySelectorAll("table tr");for(let r of rows){const first=r.querySelector("td");if(!first)continue;if(first.innerText.includes(today)){return r;}}return null;}function updateCountdown(){const row=getTodayRow();if(!row)return;const cells=row.querySelectorAll("td");if(cells.length<6)return;const prayers=[{name:"Fajr",time:cells[1].innerText.trim()},{name:"Dhuhr",time:cells[2].innerText.trim()},{name:"Asr",time:cells[3].innerText.trim()},{name:"Maghrib",time:cells[4].innerText.trim()},{name:"Isha",time:cells[5].innerText.trim()}];const now=new Date();let next=null;for(let p of prayers){const parts=p.time.split(":");if(parts.length<2)continue;const d=new Date();d.setHours(parseInt(parts[0]),parseInt(parts[1]),0,0);if(d>now){next={name:p.name,time:d};break;}}if(!next&&prayers.length){const parts=prayers[0].time.split(":");const d=new Date();d.setHours(parseInt(parts[0]),parseInt(parts[1]),0,0);d.setDate(d.getDate()+1);next={name:prayers[0].name,time:d};}if(!next)return;const diff=next.time-now;const hrs=Math.floor(diff/1000/60/60);const mins=Math.floor((diff/1000/60)%60);const secs=Math.floor((diff/1000)%60);document.getElementById("npName").innerText=next.name;document.getElementById("npTimer").innerText=hrs+"h "+mins+"m "+secs+"s";}setInterval(updateCountdown,1000);updateCountdown();});

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BADAWY TV</title>

<style>
body{
margin:0;
font-family:Segoe UI, sans-serif;
background:#0f0f0f;
color:white;
}

header{
padding:20px;
display:flex;
justify-content:space-between;
align-items:center;
background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
}

h1{margin:0;font-size:24px;}

.menu-btn{font-size:28px;cursor:pointer;}

.section{padding:50px 20px;text-align:center;}

iframe{
width:100%;
height:350px;
border-radius:12px;
border:0;
}

#sideMenu{
position:fixed;
right:-260px;
top:0;
width:250px;
height:100%;
background:#111;
transition:0.3s;
padding-top:60px;
box-shadow:-2px 0 15px rgba(0,0,0,0.5);
}

#sideMenu a{
display:block;
padding:15px 20px;
color:white;
text-decoration:none;
border-bottom:1px solid #222;
}

#sideMenu a:hover{background:#1f1f1f;}

.table-wrap{overflow-x:auto;max-width:1000px;margin:auto;}

table{
width:100%;
border-collapse:collapse;
background:#111;
box-shadow:0 0 15px rgba(15,157,88,0.2);
}

th{
background:#0f9d58;
color:black;
padding:10px;
}

td{
padding:8px;
border-bottom:1px solid #222;
}
</style>
</head>

<body>
<!-- PROFILE SECTION -->
<div id="profile" style="text-align:center;padding:40px;background:#111;color:white;">
<img src="https://via.placeholder.com/150" style="width:150px;height:150px;border-radius:50%;border:4px solid gold;box-shadow:0 0 15px gold;">
<h2 style="margin-top:15px;">Ahmad Badawy</h2>
<p>Founder of BADAWY TV</p>
<p>ğŸ“§ ahmedbadawy786@gmail.com</p>
<p>ğŸ“ +254 716 802090</p>
<div style="margin-top:20px;">
<a href="https://youtube.com/@ahmadbadawytv?si=RjE40xUQKLmtWAbi" target="_blank" style="color:gold;">YouTube</a> | 
<a href="https://www.facebook.com/ahmed.badawy.1690" target="_blank" style="color:gold;">Facebook</a>
</div>
</div>

<header>
<h1>BADAWY TV</h1>
<span class="menu-btn" onclick="toggleMenu()">â˜°</span>
</header>

<div class="section">
<h2>ğŸ“ Our Location</h2>
<iframe src="https://www.google.com/maps?q=-4.0297876,39.6843468&output=embed"></iframe>
</div>

<div class="section">
<h2 style="color:#0f9d58;">ğŸ•Œ Next Prayer</h2>
<div id="nextPrayerBox" style="font-size:20px;margin-top:15px;">Loading...</div>
</div>

<div class="section">
<h2 style="color:#0f9d58;">ğŸŒ™ Islamic Prayer Calendar</h2>

<select id="hijriMonth">
<option value="1">Muharram</option>
<option value="2">Safar</option>
<option value="3">Rabi al-Awwal</option>
<option value="4">Rabi al-Thani</option>
<option value="5">Jumada al-Awwal</option>
<option value="6">Jumada al-Thani</option>
<option value="7">Rajab</option>
<option value="8">Sha'ban</option>
<option value="9">Ramadan</option>
<option value="10">Shawwal</option>
<option value="11">Dhul Qa'dah</option>
<option value="12">Dhul Hijjah</option>
</select>

<div class="table-wrap">
<div id="hijriCalendar"></div>
</div>
</div>

<div id="sideMenu">
<a href="mailto:ahmedbadawy786@gmail.com" target="_blank">ğŸ“§ Email</a>
<a href="https://wa.me/254716802090" target="_blank">ğŸ“± WhatsApp</a>
<a href="https://www.facebook.com/ahmed.badawy.1690" target="_blank">ğŸ“˜ Facebook</a>
<a href="https://youtube.com/@ahmadbadawytv?si=RjE40xUQKLmtWAbi" target="_blank">â–¶ YouTube</a>
<a href="https://www.safaricom.co.ke/m-pesa" target="_blank">ğŸ’° M-Pesa</a>
</div>

<script>
function toggleMenu(){
const menu=document.getElementById("sideMenu");
menu.style.right=(menu.style.right==="0px")?"-260px":"0px";
}

async function loadNextPrayer(){
const response=await fetch("https://api.aladhan.com/v1/timingsByCity?city=Mombasa&country=Kenya&method=2");
const data=await response.json();
const timings=data.data.timings;

const prayers=["Fajr","Dhuhr","Asr","Maghrib","Isha"];
const now=new Date();

let nextName="";
let nextTime=null;

for(let p of prayers){
let [h,m]=timings[p].split(":");
let d=new Date();
d.setHours(h,m,0);
if(d>now){nextName=p;nextTime=d;break;}
}

if(!nextTime){
let [h,m]=timings["Fajr"].split(":");
nextTime=new Date();
nextTime.setDate(now.getDate()+1);
nextTime.setHours(h,m,0);
nextName="Fajr";
}

function update(){
let diff=nextTime-new Date();
let h=Math.floor(diff/(1000*60*60));
let m=Math.floor((diff%(1000*60*60))/(1000*60));
let s=Math.floor((diff%(1000*60))/1000);
document.getElementById("nextPrayerBox").innerHTML="<strong>"+nextName+"</strong><br>â³ "+h+"h "+m+"m "+s+"s";
}

update();
setInterval(update,1000);
}

async function loadHijriCalendar(month){
const today=new Date();
const convert=await fetch(`https://api.aladhan.com/v1/gToH?date=${today.getDate()}-${today.getMonth()+1}-${today.getFullYear()}`);
const convertData=await convert.json();
const hijriYear=convertData.data.hijri.year;

const response=await fetch(`https://api.aladhan.com/v1/hijriCalendarByCity?city=Mombasa&country=Kenya&method=2&month=${month}&year=${hijriYear}`);
const data=await response.json();
const days=data.data;

let table="<table><tr><th>Hijri Date</th><th>Fajr</th><th>Dhuhr</th><th>Asr</th><th>Maghrib</th><th>Isha</th></tr>";

days.forEach(day=>{
let isFriday=day.date.gregorian.weekday.en==="Friday";
table+=`<tr style="${isFriday?'background:#2a1f00;color:#ffd700;font-weight:bold;':''}">
<td>${day.date.hijri.day} ${day.date.hijri.month.en}${isFriday?' ğŸŒŸ Jumuâ€™ah':''}</td>
<td>${day.timings.Fajr.split(" ")[0]}</td>
<td>${day.timings.Dhuhr.split(" ")[0]}</td>
<td>${day.timings.Asr.split(" ")[0]}</td>
<td>${day.timings.Maghrib.split(" ")[0]}</td>
<td>${day.timings.Isha.split(" ")[0]}</td>
</tr>`;
});

table+="</table>";
document.getElementById("hijriCalendar").innerHTML=table;
}

document.getElementById("hijriMonth").addEventListener("change",function(){
loadHijriCalendar(this.value);
});

loadNextPrayer();
loadHijriCalendar(1);
</script>

</body>
</html>


<script>
if(!window.commands){ window.commands = {}; }

window.commands.ramadan = async function(){

  const output = document.getElementById("terminal-output");
  function print(t){ output.innerHTML += "<div>"+t+"</div>"; }

  print("Checking Ramadan status...");

  const today = new Date();
  const gDate = `${today.getDate()}-${today.getMonth()+1}-${today.getFullYear()}`;

  const convert = await fetch(`https://api.aladhan.com/v1/gToH?date=${gDate}`);
  const data = await convert.json();

  const hijri = data.data.hijri;
  const currentMonth = hijri.month.number;
  const currentYear = hijri.year;

  if(currentMonth == 9){
    print("ğŸŒ™ RAMADAN IS LIVE ğŸŒ™");
    print("Ramadan Mubarak!");
    return;
  }

  const ramadanResponse = await fetch(`https://api.aladhan.com/v1/hToG?date=1-9-${currentYear}`);
  const ramadanData = await ramadanResponse.json();

  let rDate = ramadanData.data.gregorian;
  let target = new Date(rDate.year, rDate.month.number-1, rDate.day);

  if(target < today){
    const nextYear = parseInt(currentYear) + 1;
    const nextRamadan = await fetch(`https://api.aladhan.com/v1/hToG?date=1-9-${nextYear}`);
    const nextData = await nextRamadan.json();
    let nr = nextData.data.gregorian;
    target = new Date(nr.year, nr.month.number-1, nr.day);
  }

  function updateCountdown(){
    let diff = target - new Date();

    let weeks = Math.floor(diff/(1000*60*60*24*7));
    let days = Math.floor((diff/(1000*60*60*24))%7);
    let hours = Math.floor((diff/(1000*60*60))%24);
    let minutes = Math.floor((diff/(1000*60))%60);
    let seconds = Math.floor((diff/1000)%60);
    let ms = Math.floor(diff%1000);

    output.innerHTML = "";
    print("ğŸŒ™ Ramadan Countdown:");
    print(weeks+"w "+days+"d "+hours+"h "+minutes+"m "+seconds+"s "+ms+"ms");
  }

  updateCountdown();
  setInterval(updateCountdown,10);
};
</script>


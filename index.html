<!DOCTYPE html>
<html>
<head>
  <title>Badawy TV</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="margin:0;font-family:sans-serif;background:#f2f2f2;">

<h2 style="text-align:center;padding:15px;">Badawy TV Posts</h2>

<div id="posts" style="padding:15px;"></div>

<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyASNJLrmw3pk9ClzYeFUyu4fq_AqO4Wkjc",
  authDomain: "badawytv.firebaseapp.com",
  databaseURL: "https://badawytv-default-rtdb.firebaseio.com",
  projectId: "badawytv",
  storageBucket: "badawytv.firebasestorage.app",
  messagingSenderId: "290361356500",
  appId: "1:290361356500:web:c281156ffb95d1ad964b41"
});

const db = firebase.database();
const postsContainer = document.getElementById("posts");

db.ref("posts").on("value", snapshot => {
  postsContainer.innerHTML = "";

  if (!snapshot.exists()) {
    postsContainer.innerHTML = "<p style='text-align:center;'>No posts yet</p>";
    return;
  }

  snapshot.forEach(child => {
    const data = child.val();

    if (data.type === "video") {
      postsContainer.innerHTML += `
        <video controls style="width:100%;max-width:600px;margin:20px auto;display:block;border-radius:12px;">
          <source src="${data.url}" type="video/mp4">
        </video>
      `;
    }

    if (data.type === "image") {
      postsContainer.innerHTML += `
        <img src="${data.url}" style="width:100%;max-width:600px;margin:20px auto;display:block;border-radius:12px;">
      `;
    }
  });
});
</script>

</body>
</html>

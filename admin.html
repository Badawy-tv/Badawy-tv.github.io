<!DOCTYPE html>
<html>
<head>
<title>Badawy TV Creator Studio</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>

<style>
body{margin:0;font-family:Segoe UI;background:#f4f6f9;}
.login-container{display:flex;justify-content:center;align-items:center;height:100vh;background:#0f2027;}
.login-box{background:#1c1c1c;padding:30px;border-radius:12px;width:350px;color:white;}
input,textarea{width:100%;padding:10px;margin:10px 0;border-radius:6px;border:none;}
button{padding:10px;border:none;border-radius:6px;cursor:pointer;font-weight:bold;}
.login-btn{background:#00c853;color:white;width:100%;}
.dashboard{display:none;}
.sidebar{width:230px;background:#1e1e2f;color:white;height:100vh;position:fixed;padding:20px;}
.sidebar button{width:100%;margin:8px 0;background:#2c2c3e;color:white;}
.content{margin-left:250px;padding:20px;}
.card{background:white;padding:20px;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.1);margin-bottom:20px;}
.status-live{color:red;font-weight:bold;}
.status-off{color:gray;font-weight:bold;}
.logout-btn{background:#f44336;color:white;}
.live-btn{background:red;color:white;}
.announce-btn{background:#1877f2;color:white;}
</style>
</head>
<body>

<div class="login-container" id="loginBox">
<div class="login-box">
<h2>Admin Login</h2>
<input id="email" type="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">
<button class="login-btn" onclick="login()">Login</button>
<p id="msg"></p>
</div>
</div>

<div class="dashboard" id="dashboard">

<div class="sidebar">
<h2>Badawy TV</h2>
<button onclick="showSection('home')">Dashboard</button>
<button onclick="showSection('live')">Live Control</button>
<button onclick="showSection('announce')">Announcement</button>
<button class="logout-btn" onclick="logout()">Logout</button>
</div>

<div class="content">

<div id="home" class="card">
<h2>ðŸ“Š Overview</h2>
<p>Live Status: <span id="liveStatus"></span></p>
</div>

<div id="live" class="card" style="display:none;">
<h2>ðŸ”´ Live Control</h2>
<button class="live-btn" onclick="toggleLive()">Toggle LIVE</button>
</div>

<div id="announce" class="card" style="display:none;">
<h2>ðŸ“¢ Send Announcement</h2>
<textarea id="announcementText" placeholder="Write announcement..."></textarea>
<button class="announce-btn" onclick="sendAnnouncement()">Publish</button>
</div>

</div>
</div>

<script>
const firebaseConfig = {
apiKey: "AIzaSyASNJLrmw3pk9ClzYeFUyu4fq_AqO4Wkjc",
authDomain: "badawytv.firebaseapp.com",
databaseURL: "https://badawytv-default-rtdb.firebaseio.com",
projectId: "badawytv"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();

function login(){
auth.signInWithEmailAndPassword(email.value,password.value)
.then(()=>{
loginBox.style.display="none";
dashboard.style.display="block";
loadData();
})
.catch(error=>msg.innerText=error.message);
}

function logout(){
auth.signOut().then(()=>location.reload());
}

function showSection(id){
document.querySelectorAll('.content .card').forEach(c=>c.style.display='none');
document.getElementById(id).style.display='block';
}

function toggleLive(){
db.ref("liveStatus").once("value").then(s=>{
db.ref("liveStatus").set(!s.val());
});
}

function sendAnnouncement(){
db.ref("announcement").set(announcementText.value);
alert("Announcement sent!");
announcementText.value="";
}

function loadData(){
db.ref("liveStatus").on("value",snap=>{
if(snap.val()){
liveStatus.innerHTML="<span class='status-live'>LIVE NOW</span>";
}else{
liveStatus.innerHTML="<span class='status-off'>OFFLINE</span>";
}
});
}
</script>

</body>
</html>
